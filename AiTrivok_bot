from telegram import Update
from telegram.ext import Application, CommandHandler, MessageHandler, ContextTypes, filters

# Загружаем данные из файла
CAMPAIGN_DATA = '''\n\
**Название проекта:** "Три вокзала. Депо"\n\
**Цель кампании:** Изменить восприятие аудитории и показать, что это не только фудкорт, но и многофункциональное пространство для шопинга, мероприятий и отдыха.\n\
**Ключевые направления:**\n1. Продвижение культурных и развлекательных мероприятий (мастер-классы, выставки, фотозоны).\n2. PR и инфлюенсеры (статьи в лайфстайл-СМИ, партнёрства с блогерами).\n3. Создание новых активностей и мероприятий на территории пространства.\n\
**Целевая аудитория:**\n- Молодёжь 18-30 лет.\n- Семьи с детьми.\n- Туристы и местные жители, ищущие новые впечатления.\n\
**Каналы коммуникации:**\n- Instagram и TikTok: хэштег #БольшеЧемФудкорт\n- YouTube: промо-ролики\n- PR-активности: публикации в медиа\n\
**Ожидаемые результаты:**\n- Рост посещаемости на 20% за 3 месяца.\n- Повышение узнаваемости бренда среди новой аудитории.\n\
**Основное сообщение:** "Три вокзала. Депо" - это больше, чем просто фудкорт. Это место для отдыха, вдохновения и новых открытий.'''

# Приветствие пользователя
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    welcome_message = (
        "Привет! Я чат-бот проекта \"Три вокзала. Депо\". Я помогу вам узнать больше о нашей рекламной кампании!\n\n"
        "Задайте мне вопрос о целях, аудитории или мероприятиях — я с радостью расскажу!"
    )
    await update.message.reply_text(welcome_message)

# Обработка вопросов пользователя
async def respond(update: Update, context: ContextTypes.DEFAULT_TYPE):
    question = update.message.text.lower()

    if "цель" in question:
        answer = "Цель кампании — показать, что \"Три вокзала. Депо\" — это не только фудкорт, но и место для отдыха, шопинга и культурных мероприятий."
    elif "аудитория" in question:
        answer = "Наша целевая аудитория: молодёжь 18-30 лет, семьи с детьми и туристы."
    elif "каналы" in question:
        answer = "Основные каналы коммуникации: Instagram, TikTok, YouTube и PR-активности."
    elif "мероприятия" in question:
        answer = "В \"Три вокзала. Депо\" будут проводиться выставки, мастер-классы и культурные события."
    else:
        answer = "Извините, я не понял ваш вопрос. Попробуйте спросить о цели, аудитории или мероприятиях."

    await update.message.reply_text(answer)

# Основная функция для запуска бота
def main():
    TOKEN = "t.me/aiTrivok_bot"  # Используем предоставленный токен
    app = Application.builder().token(TOKEN).build()

    # Обработчики
    app.add_handler(CommandHandler("start", start))
    app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, respond))

    print("Бот запущен...")
    app.run_polling()

if __name__ == "__main__":
    main()
